#!/bin/bash

# Script principal pour gÃ©nÃ©rer l'APK Android TWA d'ATOMIC FLIX
echo "ğŸš€ GÃ©nÃ©ration de l'APK Android TWA pour ATOMIC FLIX"
echo "================================================="

cd android-twa

# ExÃ©cuter le script de configuration
echo "ğŸ“¦ Configuration du projet TWA..."
node build-apk-simple.js

echo ""
echo "âœ… Configuration terminÃ©e!"
echo ""
echo "ğŸ“‹ Ã‰tapes suivantes pour crÃ©er votre APK:"
echo ""
echo "1. ğŸŒ Aller sur PWABuilder:"
echo "   https://www.pwabuilder.com/"
echo ""
echo "2. ğŸ“ Entrer l'URL de votre PWA:"
echo "   https://atomic-flix.vercel.app"
echo ""
echo "3. ğŸ“± SÃ©lectionner 'Package For Stores' â†’ 'Android'"
echo ""
echo "4. âš™ï¸ Utiliser ces paramÃ¨tres exacts:"
echo "   â€¢ Package ID: app.vercel.atomic_flix.twa"
echo "   â€¢ App Name: ATOMIC FLIX"
echo "   â€¢ Short Name: ATF"
echo "   â€¢ Theme Color: #8F00FF"
echo "   â€¢ Background Color: #0F111A"
echo "   â€¢ Display Mode: standalone"
echo "   â€¢ Start URL: /"
echo ""
echo "5. ğŸ“¥ TÃ©lÃ©charger l'APK gÃ©nÃ©rÃ©"
echo ""
echo "6. ğŸ”‘ Obtenir l'empreinte SHA256 (fournie avec l'APK)"
echo ""
echo "7. ğŸ”§ Configurer assetlinks.json:"
echo "   node deploy-assetlinks.js \"VOTRE_EMPREINTE_SHA256\""
echo ""
echo "8. ğŸš€ DÃ©ployer sur Vercel:"
echo "   git add client/public/.well-known/assetlinks.json"
echo "   git commit -m \"Add assetlinks.json for TWA\""
echo "   git push"
echo ""
echo "9. ğŸ“± Installer et tester l'APK sur Android"
echo ""
echo "ğŸ“– Guide complet disponible dans: android-twa/GUIDE_COMPLET.md"
echo ""
echo "ğŸ¯ RÃ©sultat: Application Android native sans barre d'URL!"